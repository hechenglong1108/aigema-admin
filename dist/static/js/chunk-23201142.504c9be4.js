(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-23201142"],{"0171":function(t,e,o){},5141:function(t,e,o){"use strict";o.r(e);var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"wrapper"},[o("div",[o("el-form",{ref:"form",staticClass:"form",attrs:{"label-width":"120px"}},[o("el-form-item",{attrs:{label:"商品名称"}},[o("el-input",{staticStyle:{width:"400px"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),o("el-form-item",{attrs:{label:"商品所需分值"}},[o("el-input",{staticStyle:{width:"400px"},model:{value:t.number,callback:function(e){t.number=e},expression:"number"}})],1),o("el-form-item",{attrs:{label:"分类"}},[o("el-select",{attrs:{placeholder:"请选择活动区域"},model:{value:t.commodityCategory,callback:function(e){t.commodityCategory=e},expression:"commodityCategory"}},[o("el-option",{attrs:{label:"婴儿尿裤",value:1}}),o("el-option",{attrs:{label:"智能早教",value:2}}),o("el-option",{attrs:{label:"母婴好物",value:3}})],1)],1),o("el-form-item",{attrs:{label:"缩略图"}},[o("el-upload",{staticClass:"avatar-uploader",attrs:{action:t.baseUrl+"ana/admin/image/upload","show-file-list":!1,"with-credentials":!0,"on-success":t.handleAvatarSuccess}},[t.imageUrl?o("img",{staticClass:"avatar",attrs:{src:t.baseUrl+"/ana/admin/image/view?imageId="+t.imageUrl}}):o("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),o("p",[t._v("限上传一张缩略图，图片最佳尺寸为232*232像素")])],1),o("el-form-item",{attrs:{label:"商品详情"}},[o("quill-editor",{ref:"myTextEditor",staticClass:"editor",attrs:{options:t.editorOption},on:{change:function(e){return t.onEditorChange(e)}},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}})],1),o("el-form-item",{attrs:{label:""}},[o("el-button",{on:{click:t.close}},[t._v("关闭")]),o("el-button",{attrs:{type:"primary"},on:{click:t.save}},[t._v("保存")])],1)],1)],1)])},i=[],n=(o("b0c0"),o("e692")),s={components:{},props:{},data:function(){return{id:"",name:"",number:"",commodityCategory:1,imageUrl:"",content:"",originImageId:"",editorOption:{modules:{toolbar:[["bold","italic","underline","strike"],[{header:1},{header:2}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],["clean"],["image"]]}}}},watch:{},computed:{},methods:{close:function(){this.$router.go(-1)},save:function(){var t=this;if(this.name)if(this.number)if(this.imageUrl)if(this.content){var e={commodityFraction:this.number,commodityName:this.name,originImageId:this.imageUrl,commodityInfo:this.content,commodityCategory:this.commodityCategory};this.id?(e.commodityId=this.id,Object(n["h"])(e).then((function(){t.$message.success("修改成功"),t.$router.go(-1)}))):Object(n["b"])(e).then((function(){t.$message.success("新增成功"),t.$router.go(-1)}))}else this.$message.info("请输入商品详情");else this.$message.info("请上传图片");else this.$message.info("请输入所需分值");else this.$message.info("请输入商品名称")},onEditorChange:function(t){this.content=t.html,console.log(this.content)},handleAvatarSuccess:function(t){console.log(t),200==t.code?(this.imageUrl=t.rows[0],console.log(this.imageUrl)):this.$message.error(t.message)}},created:function(){},mounted:function(){var t=this;this.id=this.$route.query.id,this.id&&Object(n["m"])({commodityId:this.id}).then((function(e){t.name=e.data.commodityName,t.number=e.data.commodityFraction,t.imageUrl=e.data.originImageId,t.content=e.data.commodityInfo,t.commodityCategory=e.data.commodityCategory}))}},r=s,l=(o("8a29"),o("2877")),c=Object(l["a"])(r,a,i,!1,null,"c2d82ed2",null);e["default"]=c.exports},"8a29":function(t,e,o){"use strict";var a=o("0171"),i=o.n(a);i.a},b0c0:function(t,e,o){var a=o("83ab"),i=o("9bf2").f,n=Function.prototype,s=n.toString,r=/^\s*function ([^ (]*)/,l="name";a&&!(l in n)&&i(n,l,{configurable:!0,get:function(){try{return s.call(this).match(r)[1]}catch(t){return""}}})}}]);
//# sourceMappingURL=chunk-23201142.504c9be4.js.map