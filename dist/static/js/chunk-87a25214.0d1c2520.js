(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-87a25214"],{1907:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrapper"},[a("div",[a("el-form",{ref:"form",staticClass:"form",attrs:{"label-width":"120px"}},[a("el-form-item",{attrs:{label:"banner"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:t.baseUrl+"ana/admin/image/upload","show-file-list":!1,"with-credentials":!0,headers:{Authorization:t.Authorization},"on-success":t.handleAvatarSuccess}},[t.imageUrl?a("img",{staticClass:"avatar",attrs:{src:t.baseUrl+"/ana/admin/image/view?imageId="+t.imageUrl}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),a("p",[t._v("限上传一张缩略图，图片最佳尺寸为232*232像素")])],1),a("el-form-item",{attrs:{label:"排序"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{type:"number"},model:{value:t.sort,callback:function(e){t.sort=e},expression:"sort"}})],1),a("el-form-item",{attrs:{label:"banner详情"}},[a("quill-editor",{ref:"myTextEditor",staticClass:"editor",attrs:{options:t.editorOption},on:{change:function(e){return t.onEditorChange(e)}},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}})],1),a("el-form-item",{attrs:{label:""}},[a("el-button",[t._v("关闭")]),a("el-button",{attrs:{type:"primary"},on:{click:t.save}},[t._v("保存")])],1)],1)],1)])},s=[],n=a("e692"),o={components:{},props:{},data:function(){return{id:"",name:"",sort:0,imageUrl:"",content:"",originImageId:"",Authorization:"agmauth "+sessionStorage.getItem("Authorization"),editorOption:{modules:{toolbar:[["bold","italic","underline","strike"],[{header:1},{header:2}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],["clean"],["image"]]}}}},watch:{},computed:{},methods:{save:function(){var t=this;if(this.imageUrl){var e={status:0,imgId:this.imageUrl,desc:this.content};this.id?(e.bannerId=this.id,Object(n["f"])(e).then((function(){t.$message.success("修改成功"),t.$router.go(-1)}))):Object(n["a"])(e).then((function(){t.$message.success("新增成功"),t.$router.go(-1)}))}else this.$message.info("请上传图片")},onEditorChange:function(t){this.content=t.html,console.log(this.content)},handleAvatarSuccess:function(t){console.log(t),200==t.code?(this.imageUrl=t.rows[0],console.log(this.imageUrl)):this.$message.error(t.message)}},created:function(){},mounted:function(){var t=this;this.id=this.$route.query.id,this.id&&Object(n["j"])({bannerId:this.id}).then((function(e){t.sort=e.data.sort,t.imageUrl=e.data.imgId,t.content=e.data.desc}))}},r=o,l=(a("9b6c"),a("2877")),c=Object(l["a"])(r,i,s,!1,null,"64002314",null);e["default"]=c.exports},"9b6c":function(t,e,a){"use strict";var i=a("f7ef"),s=a.n(i);s.a},f7ef:function(t,e,a){}}]);
//# sourceMappingURL=chunk-87a25214.0d1c2520.js.map