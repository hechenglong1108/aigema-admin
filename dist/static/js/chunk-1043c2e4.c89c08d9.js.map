{"version":3,"sources":["webpack:///./src/views/banner/add.vue?3b67","webpack:///src/views/banner/add.vue","webpack:///./src/views/banner/add.vue?ed97","webpack:///./src/views/banner/add.vue","webpack:///./src/views/banner/add.vue?d97d"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","ref","attrs","baseUrl","Authorization","handleAvatarSuccess","imageUrl","_v","staticStyle","model","value","callback","$$v","sort","expression","editorOption","on","$event","onEditorChange","content","close","save","staticRenderFns","components","props","data","id","name","originImageId","watch","computed","methods","$router","go","status","imgId","desc","bannerId","$message","info","editor","html","console","log","file","code","rows","error","message","created","mounted","$route","query","component"],"mappings":"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","file":"static/js/chunk-1043c2e4.c89c08d9.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrapper\"},[_c('div',[_c('el-form',{ref:\"form\",staticClass:\"form\",attrs:{\"label-width\":\"120px\"}},[_c('el-form-item',{attrs:{\"label\":\"banner\"}},[_c('el-upload',{staticClass:\"avatar-uploader\",attrs:{\"action\":_vm.baseUrl + 'ana/admin/image/upload',\"show-file-list\":false,\"with-credentials\":true,\"headers\":{\n          'Authorization': _vm.Authorization\n        },\"on-success\":_vm.handleAvatarSuccess}},[(_vm.imageUrl)?_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.baseUrl + '/ana/admin/image/view?imageId=' +_vm.imageUrl}}):_c('i',{staticClass:\"el-icon-plus avatar-uploader-icon\"})]),_c('p',[_vm._v(\"限上传一张缩略图，图片最佳尺寸为232*232像素\")])],1),_c('el-form-item',{attrs:{\"label\":\"排序\"}},[_c('el-input',{staticStyle:{\"width\":\"200px\"},attrs:{\"type\":\"number\"},model:{value:(_vm.sort),callback:function ($$v) {_vm.sort=$$v},expression:\"sort\"}})],1),_c('el-form-item',{attrs:{\"label\":\"banner详情\"}},[_c('quill-editor',{ref:\"myTextEditor\",staticClass:\"editor\",attrs:{\"options\":_vm.editorOption},on:{\"change\":function($event){return _vm.onEditorChange($event)}},model:{value:(_vm.content),callback:function ($$v) {_vm.content=$$v},expression:\"content\"}})],1),_c('el-form-item',{attrs:{\"label\":\"\"}},[_c('el-button',{on:{\"click\":_vm.close}},[_vm._v(\"关闭\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.save}},[_vm._v(\"保存\")])],1)],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"wrapper\">\n    <div>\n          <el-form ref=\"form\" class=\"form\" label-width=\"120px\">\n      <!-- <el-form-item label=\"商品名称\">\n        <el-input v-model=\"name\" style=\"width:400px\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"商品所需分值\">\n        <el-input v-model=\"number\" style=\"width:400px\"></el-input>\n      </el-form-item> -->\n      <el-form-item label=\"banner\">\n        <el-upload\n          class=\"avatar-uploader\"\n          :action=\"baseUrl + 'ana/admin/image/upload'\"\n          :show-file-list=\"false\"\n          :with-credentials=\"true\"\n          :headers=\"{\n            'Authorization': Authorization\n          }\"\n          :on-success=\"handleAvatarSuccess\"\n          >\n          <img v-if=\"imageUrl\" :src=\"baseUrl + '/ana/admin/image/view?imageId=' +imageUrl\" class=\"avatar\">\n          <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\n        </el-upload>\n        <p>限上传一张缩略图，图片最佳尺寸为232*232像素</p>\n      </el-form-item>\n      <el-form-item label=\"排序\">\n        <el-input v-model=\"sort\" style=\"width:200px\" type=\"number\"></el-input>\n      </el-form-item>\n\n      <el-form-item label=\"banner详情\">\n        <quill-editor class=\"editor\"\n                    ref=\"myTextEditor\"\n                    v-model=\"content\"\n                    :options=\"editorOption\"\n                    @change=\"onEditorChange($event)\">\n      </quill-editor>\n      </el-form-item>\n\n      <el-form-item label=\"\">\n        <el-button @click=\"close\">关闭</el-button>\n        <el-button type=\"primary\" @click=\"save\">保存</el-button>\n      </el-form-item>\n    </el-form>\n    </div>\n\n  </div>\n</template>\n\n<script type=\"text/ecmascript-6\">\nimport { editBanner, getBanner, addBanner} from '@/api/shop'\nexport default {\n  components:{},\n  props:{},\n  data(){\n    return {\n      id: '',\n      name: '',\n      sort: 0,\n      imageUrl: '',\n      content: '',\n      originImageId: '',\n      Authorization: 'agmauth ' +sessionStorage.getItem('Authorization'),\n      editorOption: {\n              modules: {\n                toolbar: [\n                  [\"bold\", \"italic\", \"underline\", \"strike\"], // 加粗 斜体 下划线 删除线\n                  [{ header: 1 }, { header: 2 }], // 1、2 级标题\n                  // [{ list: \"ordered\" }, { list: \"bullet\" }], // 有序、无序列表\n                  [{ script: \"sub\" }, { script: \"super\" }], // 上标/下标\n                  [{ indent: \"-1\" }, { indent: \"+1\" }], // 缩进\n                  // [{'direction': 'rtl'}],                         // 文本方向\n                  [{ size: [\"small\", false, \"large\", \"huge\"] }], // 字体大小\n                  [{ header: [1, 2, 3, 4, 5, 6, false] }], // 标题\n                  [{ color: [] }, { background: [] }], // 字体颜色、字体背景颜色\n                  [{ font: [] }], // 字体种类\n                  // [{ align: [] }], // 对齐方式\n                  [\"clean\"], // 清除文本格式\n                  [\"image\"] // 链接、图片、视频\n                ] //工具菜单栏配置\n              }\n      }\n    }\n  },\n  watch:{},\n  computed:{},\n  methods:{\n    close() {\n      this.$router.go(-1)\n    },\n    save() {\n      // if (!this.name) {\n      //   this.$message.info('请输入商品名称')\n      //   return\n      // }\n      // if (!this.number) {\n      //   this.$message.info('请输入所需分值')\n      //   return\n      // }\n      if (!this.imageUrl) {\n        this.$message.info('请上传图片')\n        return\n      }\n      // if (!this.content) {\n      //   this.$message.info('请输入商品详情')\n      //   return\n      // }\n      let data = {\n        status: 0,\n        imgId: this.imageUrl,\n        desc: this.content\n      }\n      if (!this.id) {\n        addBanner(data).then(() => {\n          this.$message.success('新增成功')\n          this.$router.go(-1)\n        })\n      } else {\n        data.bannerId = this.id\n        editBanner(data).then(() => {\n          this.$message.success('修改成功')\n          this.$router.go(-1)\n        })\n      }\n    \n    },\n    // 值发生变化\n    onEditorChange(editor) {\n      this.content = editor.html;\n      console.log(this.content)\n    },\n    handleAvatarSuccess(file) {\n      console.log(file)\n      if (file.code == 200) {\n        this.imageUrl = file.rows[0]\n        console.log(this.imageUrl)\n      } else {\n        this.$message.error(file.message)\n      }\n    }\n  },\n  created(){},\n  mounted(){\n    this.id = this.$route.query.id\n    if (this.id) {\n      getBanner({bannerId: this.id}).then(res => {\n        // this.name = res.data.commodityName\n        this.sort = res.data.sort\n        this.imageUrl = res.data.imgId\n        this.content = res.data.desc\n      })\n    }\n  }\n}\n</script>\n<style scoped>\n.wrapper{\n  text-align: left;\n  width:100%;\n}\n.editor{\n  width: 700px;\n}\n.avatar-uploader .el-upload {\n    border: 1px dashed #d9d9d9;\n    border-radius: 6px;\n    cursor: pointer;\n    position: relative;\n    overflow: hidden;\n  }\n  .avatar-uploader .el-upload:hover {\n    border-color: #409EFF;\n  }\n  .avatar-uploader-icon {\n    font-size: 28px;\n    color: #8c939d;\n    width: 120px;\n    height: 120px;\n    line-height: 120px;\n    text-align: center;\n    border: 1px dotted #ddd;\n    border-radius: 5px;\n  }\n  .avatar {\n    width: 120px;\n    height: 120px;\n    display: block;\n  }\n  .form{\n    width: 100%;\n    position: static;\n  height: 100%;\n  box-shadow: none;\n  background: transparent;\n  border-radius: 0;\n  top: 0;\n  margin-top: 0;\n  left: 0;\n  margin-left: 0;\n  overflow: hidden;\n  }\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./add.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./add.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./add.vue?vue&type=template&id=b9531e68&scoped=true&\"\nimport script from \"./add.vue?vue&type=script&lang=js&\"\nexport * from \"./add.vue?vue&type=script&lang=js&\"\nimport style0 from \"./add.vue?vue&type=style&index=0&id=b9531e68&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b9531e68\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./add.vue?vue&type=style&index=0&id=b9531e68&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./add.vue?vue&type=style&index=0&id=b9531e68&scoped=true&lang=css&\""],"sourceRoot":""}