{"version":3,"sources":["webpack:///./src/views/goods/add.vue?872b","webpack:///src/views/goods/add.vue","webpack:///./src/views/goods/add.vue?600c","webpack:///./src/views/goods/add.vue?0539","webpack:///./src/views/goods/add.vue?975c","webpack:///./node_modules/core-js/modules/es.function.name.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","ref","attrs","staticStyle","model","value","callback","$$v","name","expression","number","baseUrl","handleAvatarSuccess","imageUrl","_v","editorOption","on","$event","onEditorChange","content","save","staticRenderFns","components","props","data","id","originImageId","watch","computed","methods","commodityFraction","commodityName","commodityInfo","commodityId","$message","info","editor","html","console","log","file","code","rows","error","message","created","mounted","$route","query","component","DESCRIPTORS","defineProperty","f","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","get","call","match"],"mappings":"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","file":"static/js/chunk-9da75cb6.aa235da1.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrapper\"},[_c('div',[_c('el-form',{ref:\"form\",staticClass:\"form\",attrs:{\"label-width\":\"120px\"}},[_c('el-form-item',{attrs:{\"label\":\"商品名称\"}},[_c('el-input',{staticStyle:{\"width\":\"400px\"},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"商品所需分值\"}},[_c('el-input',{staticStyle:{\"width\":\"400px\"},model:{value:(_vm.number),callback:function ($$v) {_vm.number=$$v},expression:\"number\"}})],1),_c('el-form-item',{attrs:{\"label\":\"缩略图\"}},[_c('el-upload',{staticClass:\"avatar-uploader\",attrs:{\"action\":_vm.baseUrl + 'ana/admin/image/upload',\"show-file-list\":false,\"with-credentials\":true,\"on-success\":_vm.handleAvatarSuccess}},[(_vm.imageUrl)?_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.baseUrl + '/ana/admin/image/view?imageId=' +_vm.imageUrl}}):_c('i',{staticClass:\"el-icon-plus avatar-uploader-icon\"})]),_c('p',[_vm._v(\"限上传一张缩略图，图片最佳尺寸为232*232像素\")])],1),_c('el-form-item',{attrs:{\"label\":\"商品详情\"}},[_c('quill-editor',{ref:\"myTextEditor\",staticClass:\"editor\",attrs:{\"options\":_vm.editorOption},on:{\"change\":function($event){return _vm.onEditorChange($event)}},model:{value:(_vm.content),callback:function ($$v) {_vm.content=$$v},expression:\"content\"}})],1),_c('el-form-item',{attrs:{\"label\":\"\"}},[_c('el-button',[_vm._v(\"关闭\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.save}},[_vm._v(\"保存\")])],1)],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"wrapper\">\n    <div>\n          <el-form ref=\"form\" class=\"form\" label-width=\"120px\">\n      <el-form-item label=\"商品名称\">\n        <el-input v-model=\"name\" style=\"width:400px\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"商品所需分值\">\n        <el-input v-model=\"number\" style=\"width:400px\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"缩略图\">\n        <el-upload\n          class=\"avatar-uploader\"\n          :action=\"baseUrl + 'ana/admin/image/upload'\"\n          :show-file-list=\"false\"\n          :with-credentials=\"true\"\n          :on-success=\"handleAvatarSuccess\"\n          >\n          <img v-if=\"imageUrl\" :src=\"baseUrl + '/ana/admin/image/view?imageId=' +imageUrl\" class=\"avatar\">\n          <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\n        </el-upload>\n        <p>限上传一张缩略图，图片最佳尺寸为232*232像素</p>\n      </el-form-item>\n\n      <el-form-item label=\"商品详情\">\n        <quill-editor class=\"editor\"\n                    ref=\"myTextEditor\"\n                    v-model=\"content\"\n                    :options=\"editorOption\"\n                    @change=\"onEditorChange($event)\">\n      </quill-editor>\n      </el-form-item>\n\n      <el-form-item label=\"\">\n        <el-button>关闭</el-button>\n        <el-button type=\"primary\" @click=\"save\">保存</el-button>\n      </el-form-item>\n    </el-form>\n    </div>\n\n  </div>\n</template>\n\n<script type=\"text/ecmascript-6\">\nimport {addGoods, editGoods, getGoodsDetail} from '@/api/shop'\nexport default {\n  components:{},\n  props:{},\n  data(){\n    return {\n      id: '',\n      name: '',\n      number: '',\n      imageUrl: '',\n      content: '',\n      originImageId: '',\n      editorOption: {\n              modules: {\n                toolbar: [\n                  [\"bold\", \"italic\", \"underline\", \"strike\"], // 加粗 斜体 下划线 删除线\n                  [{ header: 1 }, { header: 2 }], // 1、2 级标题\n                  // [{ list: \"ordered\" }, { list: \"bullet\" }], // 有序、无序列表\n                  [{ script: \"sub\" }, { script: \"super\" }], // 上标/下标\n                  [{ indent: \"-1\" }, { indent: \"+1\" }], // 缩进\n                  // [{'direction': 'rtl'}],                         // 文本方向\n                  [{ size: [\"small\", false, \"large\", \"huge\"] }], // 字体大小\n                  [{ header: [1, 2, 3, 4, 5, 6, false] }], // 标题\n                  [{ color: [] }, { background: [] }], // 字体颜色、字体背景颜色\n                  [{ font: [] }], // 字体种类\n                  // [{ align: [] }], // 对齐方式\n                  [\"clean\"], // 清除文本格式\n                  [\"image\"] // 链接、图片、视频\n                ] //工具菜单栏配置\n              }\n      }\n    }\n  },\n  watch:{},\n  computed:{},\n  methods:{\n    save() {\n      if (!this.name) {\n        this.$message.info('请输入商品名称')\n        return\n      }\n      if (!this.number) {\n        this.$message.info('请输入所需分值')\n        return\n      }\n      if (!this.imageUrl) {\n        this.$message.info('请上传图片')\n        return\n      }\n      if (!this.content) {\n        this.$message.info('请输入商品详情')\n        return\n      }\n      let data = {\n        commodityFraction: this.number,\n        commodityName: this.name,\n        originImageId: this.imageUrl,\n        commodityInfo: this.content\n      }\n      if (!this.id) {\n        addGoods(data).then(() => {\n          this.$message.success('新增成功')\n          this.$router.go(-1)\n        })\n      } else {\n        data.commodityId = this.id\n        editGoods(data).then(() => {\n          this.$message.success('修改成功')\n          this.$router.go(-1)\n        })\n      }\n    \n    },\n    // 值发生变化\n    onEditorChange(editor) {\n      this.content = editor.html;\n      console.log(this.content)\n    },\n    handleAvatarSuccess(file) {\n      console.log(file)\n      if (file.code == 200) {\n        this.imageUrl = file.rows[0]\n        console.log(this.imageUrl)\n      } else {\n        this.$message.error(file.message)\n      }\n    }\n  },\n  created(){},\n  mounted(){\n    this.id = this.$route.query.id\n    if (this.id) {\n      getGoodsDetail({commodityId: this.id}).then(res => {\n        this.name = res.data.commodityName\n        this.number = res.data.commodityFraction\n        this.imageUrl = res.data.originImageId\n        this.content = res.data.commodityInfo\n      })\n    }\n  }\n}\n</script>\n<style scoped>\n.wrapper{\n  text-align: left;\n  width:100%;\n}\n.editor{\n  width: 700px;\n}\n.avatar-uploader .el-upload {\n    border: 1px dashed #d9d9d9;\n    border-radius: 6px;\n    cursor: pointer;\n    position: relative;\n    overflow: hidden;\n  }\n  .avatar-uploader .el-upload:hover {\n    border-color: #409EFF;\n  }\n  .avatar-uploader-icon {\n    font-size: 28px;\n    color: #8c939d;\n    width: 120px;\n    height: 120px;\n    line-height: 120px;\n    text-align: center;\n    border: 1px dotted #ddd;\n    border-radius: 5px;\n  }\n  .avatar {\n    width: 120px;\n    height: 120px;\n    display: block;\n  }\n  .form{\n    width: 100%;\n    position: static;\n  height: 100%;\n  box-shadow: none;\n  background: transparent;\n  border-radius: 0;\n  top: 0;\n  margin-top: 0;\n  left: 0;\n  margin-left: 0;\n  overflow: hidden;\n  }\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./add.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./add.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./add.vue?vue&type=template&id=de3ff4da&scoped=true&\"\nimport script from \"./add.vue?vue&type=script&lang=js&\"\nexport * from \"./add.vue?vue&type=script&lang=js&\"\nimport style0 from \"./add.vue?vue&type=style&index=0&id=de3ff4da&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"de3ff4da\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./add.vue?vue&type=style&index=0&id=de3ff4da&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./add.vue?vue&type=style&index=0&id=de3ff4da&scoped=true&lang=css&\"","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.github.io/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n"],"sourceRoot":""}