(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9da75cb6"],{5141:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wrapper"},[i("div",[i("el-form",{ref:"form",staticClass:"form",attrs:{"label-width":"120px"}},[i("el-form-item",{attrs:{label:"商品名称"}},[i("el-input",{staticStyle:{width:"400px"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),i("el-form-item",{attrs:{label:"商品所需分值"}},[i("el-input",{staticStyle:{width:"400px"},model:{value:t.number,callback:function(e){t.number=e},expression:"number"}})],1),i("el-form-item",{attrs:{label:"缩略图"}},[i("el-upload",{staticClass:"avatar-uploader",attrs:{action:t.baseUrl+"ana/admin/image/upload","show-file-list":!1,"with-credentials":!0,"on-success":t.handleAvatarSuccess}},[t.imageUrl?i("img",{staticClass:"avatar",attrs:{src:t.baseUrl+"/ana/admin/image/view?imageId="+t.imageUrl}}):i("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),i("p",[t._v("限上传一张缩略图，图片最佳尺寸为232*232像素")])],1),i("el-form-item",{attrs:{label:"商品详情"}},[i("quill-editor",{ref:"myTextEditor",staticClass:"editor",attrs:{options:t.editorOption},on:{change:function(e){return t.onEditorChange(e)}},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}})],1),i("el-form-item",{attrs:{label:""}},[i("el-button",[t._v("关闭")]),i("el-button",{attrs:{type:"primary"},on:{click:t.save}},[t._v("保存")])],1)],1)],1)])},n=[],o=(i("b0c0"),i("e692")),s={components:{},props:{},data:function(){return{id:"",name:"",number:"",imageUrl:"",content:"",originImageId:"",editorOption:{modules:{toolbar:[["bold","italic","underline","strike"],[{header:1},{header:2}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],["clean"],["image"]]}}}},watch:{},computed:{},methods:{save:function(){var t=this;if(this.name)if(this.number)if(this.imageUrl)if(this.content){var e={commodityFraction:this.number,commodityName:this.name,originImageId:this.imageUrl,commodityInfo:this.content};this.id?(e.commodityId=this.id,Object(o["c"])(e).then((function(){t.$message.success("修改成功"),t.$router.go(-1)}))):Object(o["a"])(e).then((function(){t.$message.success("新增成功"),t.$router.go(-1)}))}else this.$message.info("请输入商品详情");else this.$message.info("请上传图片");else this.$message.info("请输入所需分值");else this.$message.info("请输入商品名称")},onEditorChange:function(t){this.content=t.html,console.log(this.content)},handleAvatarSuccess:function(t){console.log(t),200==t.code?(this.imageUrl=t.rows[0],console.log(this.imageUrl)):this.$message.error(t.message)}},created:function(){},mounted:function(){var t=this;this.id=this.$route.query.id,this.id&&Object(o["d"])({commodityId:this.id}).then((function(e){t.name=e.data.commodityName,t.number=e.data.commodityFraction,t.imageUrl=e.data.originImageId,t.content=e.data.commodityInfo}))}},r=s,c=(i("76ce"),i("2877")),l=Object(c["a"])(r,a,n,!1,null,"de3ff4da",null);e["default"]=l.exports},"76ce":function(t,e,i){"use strict";var a=i("f822"),n=i.n(a);n.a},b0c0:function(t,e,i){var a=i("83ab"),n=i("9bf2").f,o=Function.prototype,s=o.toString,r=/^\s*function ([^ (]*)/,c="name";a&&!(c in o)&&n(o,c,{configurable:!0,get:function(){try{return s.call(this).match(r)[1]}catch(t){return""}}})},f822:function(t,e,i){}}]);
//# sourceMappingURL=chunk-9da75cb6.aa235da1.js.map