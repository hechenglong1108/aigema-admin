(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7b7673ca"],{5141:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrapper"},[a("div",[a("el-form",{ref:"form",staticClass:"form",attrs:{"label-width":"120px"}},[a("el-form-item",{attrs:{label:"商品名称"}},[a("el-input",{staticStyle:{width:"400px"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),a("el-form-item",{attrs:{label:"商品所需分值"}},[a("el-input",{staticStyle:{width:"400px"},model:{value:t.number,callback:function(e){t.number=e},expression:"number"}})],1),a("el-form-item",{attrs:{label:"分类"}},[a("el-select",{attrs:{placeholder:"请选择活动区域"},model:{value:t.commodityCategory,callback:function(e){t.commodityCategory=e},expression:"commodityCategory"}},[a("el-option",{attrs:{label:"婴儿尿裤",value:1}}),a("el-option",{attrs:{label:"智能早教",value:2}}),a("el-option",{attrs:{label:"母婴好物",value:3}})],1)],1),a("el-form-item",{attrs:{label:"缩略图"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:t.baseUrl+"ana/admin/image/upload","show-file-list":!1,"with-credentials":!0,"on-success":t.handleAvatarSuccess}},[t.imageUrl?a("img",{staticClass:"avatar",attrs:{src:t.baseUrl+"/ana/admin/image/view?imageId="+t.imageUrl}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),a("p",[t._v("限上传一张缩略图，图片最佳尺寸为232*232像素")])],1),a("el-form-item",{attrs:{label:"商品详情"}},[a("quill-editor",{ref:"myTextEditor",staticClass:"editor",attrs:{options:t.editorOption},on:{change:function(e){return t.onEditorChange(e)}},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}})],1),a("el-form-item",{attrs:{label:""}},[a("el-button",[t._v("关闭")]),a("el-button",{attrs:{type:"primary"},on:{click:t.save}},[t._v("保存")])],1)],1)],1)])},i=[],n=(a("b0c0"),a("e692")),s={components:{},props:{},data:function(){return{id:"",name:"",number:"",commodityCategory:1,imageUrl:"",content:"",originImageId:"",editorOption:{modules:{toolbar:[["bold","italic","underline","strike"],[{header:1},{header:2}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],["clean"],["image"]]}}}},watch:{},computed:{},methods:{save:function(){var t=this;if(this.name)if(this.number)if(this.imageUrl)if(this.content){var e={commodityFraction:this.number,commodityName:this.name,originImageId:this.imageUrl,commodityInfo:this.content,commodityCategory:this.commodityCategory};this.id?(e.commodityId=this.id,Object(n["h"])(e).then((function(){t.$message.success("修改成功"),t.$router.go(-1)}))):Object(n["b"])(e).then((function(){t.$message.success("新增成功"),t.$router.go(-1)}))}else this.$message.info("请输入商品详情");else this.$message.info("请上传图片");else this.$message.info("请输入所需分值");else this.$message.info("请输入商品名称")},onEditorChange:function(t){this.content=t.html,console.log(this.content)},handleAvatarSuccess:function(t){console.log(t),200==t.code?(this.imageUrl=t.rows[0],console.log(this.imageUrl)):this.$message.error(t.message)}},created:function(){},mounted:function(){var t=this;this.id=this.$route.query.id,this.id&&Object(n["k"])({commodityId:this.id}).then((function(e){t.name=e.data.commodityName,t.number=e.data.commodityFraction,t.imageUrl=e.data.originImageId,t.content=e.data.commodityInfo,t.commodityCategory=e.data.commodityCategory}))}},r=s,c=(a("ecf0"),a("2877")),l=Object(c["a"])(r,o,i,!1,null,"5cc924d2",null);e["default"]=l.exports},"873c":function(t,e,a){},b0c0:function(t,e,a){var o=a("83ab"),i=a("9bf2").f,n=Function.prototype,s=n.toString,r=/^\s*function ([^ (]*)/,c="name";o&&!(c in n)&&i(n,c,{configurable:!0,get:function(){try{return s.call(this).match(r)[1]}catch(t){return""}}})},ecf0:function(t,e,a){"use strict";var o=a("873c"),i=a.n(o);i.a}}]);
//# sourceMappingURL=chunk-7b7673ca.b1f740fe.js.map